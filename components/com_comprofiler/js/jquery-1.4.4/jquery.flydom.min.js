/*
     http://www.opensource.org/licenses/mit-license.php
 @license     http://www.opensource.org/licenses/gpl-license.php

 @package     jQuery Plugins
 @subpackage  FlyDOM

 @todo        Cache basic elements that are created, and if an already existing basic element is
 asked to be created an additional time, use a copy of the cached element to build from.
*/
jQuery.fn.createAppend=function(a,b,c){if(b==undefined&&a.constructor==Array){for(b=0;b<a.length;b+=3)jQuery(this).createAppend(a[b],a[b+1]||{},a[b+2]||[]);return this}var d=this[0];a=jQuery.browser.msie&&a=="input"&&b.type?document.createElement("<"+a+' type="'+b.type+'" />'):document.createElement(a);a=d.nodeName.toLowerCase()=="table"&&a.nodeName.toLowerCase()=="tr"?(d&&d.getElementsByTagName("tbody")[0]?d.getElementsByTagName("tbody")[0]:d.appendChild(document.createElement("tbody"))).appendChild(a):
d.appendChild(a);a=__FlyDOM_parseAttrs(a,b);if(typeof c=="object"&&c!=null)for(b=0;b<c.length;b+=3)jQuery(a).createAppend(c[b],c[b+1]||{},c[b+2]||[]);else if(c!=null)a=__FlyDOM_setText(a,c);return jQuery(a)};
jQuery.fn.createPrepend=function(a,b,c){if(b==undefined&&a.constructor==Array){for(b=0;b<a.length;b+=3)jQuery(this).createPrepend(a[b],a[b+1]||{},a[b+2]||[]);return this}a=document.createElement(a);if(this[0].hasChildNodes()==false)a=this[0].appendChild(a);a=__FlyDOM_parseAttrs(a,b);if(typeof c=="object"&&c!=null)for(b=0;b<c.length;b+=3)jQuery(a).createAppend(c[b],c[b+1]||{},c[b+2]||[]);else if(c!=null)a=__FlyDOM_setText(a,c);if(this[0].hasChildNodes()==true)a=this[0].insertBefore(a,this[0].firstChild);
return jQuery(a)};jQuery.fn.tplAppend=function(a,b){if(a.constructor!=Array)a=[a];if(a.length==0)return false;for(var c=0;c<a.length;c++)for(var d=b.apply(a[c]),e=0;e<d.length;e+=3)jQuery(this).createAppend(d[e],d[e+1],d[e+2]);return this};
jQuery.fn.tplPrepend=function(a,b){var c=this[0];if(a.constructor!=Array)a=[a];if(a.length==0)return false;for(var d=document.createElement("div"),e=0;e<a.length;e++)for(var f=b.apply(a[e]),g=0;g<f.length;g+=3)jQuery(d).createAppend(f[g],f[g+1],f[g+2]);for(e=d.childNodes.length-1;e>=0;e--)if(jQuery.browser.msie&&c.nodeName.toLowerCase()=="table"&&d.childNodes[e].nodeName.toLowerCase()=="tr")if(c.getElementsByTagName("tbody")[0]){f=c.getElementsByTagName("tbody")[0];f.insertBefore(d.childNodes[e],
f.firstChild)}else{f=c.insertBefore(document.createElement("tbody"),c.firstChild);f.appendChild(f.appendChild(d.childNodes[e]))}else c.insertBefore(d.childNodes[e],c.firstChild);return this};
String.prototype.toCamelCase=function(){var a=this,b={"class":"className",colspan:"colSpan",rowspan:"rowSpan","for":"htmlFor",httpequiv:"httpEquiv",alink:"aLink",vlink:"vLink",bgcolor:"bgColor",acceptcharset:"acceptCharset",selectedindex:"selectedIndex",tabindex:"tabIndex",selected:"defaultSelected",checked:"defaultChecked",value:"defaultValue",accesskey:"accessKey",noshade:"noShade",datetime:"dateTime",usemap:"useMap",lowsrc:"lowSrc",longdesc:"longDesc",ismap:"isMap",codebase:"codeBase",codetype:"codeType",
valuetype:"valueType",nohref:"noHref",thead:"tHead",tfoot:"tFoot",cellpadding:"cellPadding",cellspacing:"cellSpacing",charoff:"chOff",valign:"vAlign",frameborder:"frameBorder",marginheight:"marginHeight",marginwidth:"marginWidth",noresize:"noResize"};if(b[a]!=""&&typeof b[a]!="undefined")return b[a];if(a.indexOf("-")>0){b=a.split("-");a=b[0];for(i=1;i<b.length;i++)a+=b[i].substr(0,1).toUpperCase()+b[i].substr(1).toLowerCase()}return a};
String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};
__FlyDOM_parseAttrs=function(a,b){for(attr in b){var c=attr,d=b[attr];switch(c){case "style":if(typeof d=="string"){d=d.split(";");for(c=0;c<d.length;c++)if(d[c].trim()!=""){var e=d[c].split(":")[0].trim(),f=d[c].split(":")[1].trim();e=e.toCamelCase();if(e!="")a.style[e]=f}}else if(typeof d=="object")for(e in d){c=e.toCamelCase();if(e.trim()!="")a.style[c]=d[e]}break;default:if(c.substr(0,2)=="on"){c=c.substr(2);d=typeof d!="function"?eval("f = function() { "+d+"}"):d;jQuery(a).bind(c,d)}else a[c.toCamelCase()]=
d}}return a};__FlyDOM_setText=function(a,b){if(b.match(/(<\S[^><]*>)|(&.+;)/g)!=null&&a.tagName.toUpperCase()!="TEXTAREA")a.innerHTML=b;else{var c=document.createTextNode(b);a.appendChild(c)}return a};
